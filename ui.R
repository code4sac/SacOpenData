# Sidebar ----
sidebar = shinydashboard::dashboardSidebar(
  width = '325',
  
  shinyWidgets::pickerInput(
    inputId = "dataset_picker", 
    label = shiny::h3("Select Dataset"), 
    choices = datasets
  ),
  
  shiny::uiOutput(outputId = "number_of_observations_ui"),
  
  shinyWidgets::pickerInput(
    inputId = "filter_picker", 
    label =shiny::h3("Add Filter"), 
    choices = "Waiting for Data to Load",
    options = list(`none-selected-text` = "Select Filter to Add",
                   `selected-text-format` = "count > 1",
                   `actions-box` = TRUE,
                   `live-search` = TRUE), 
    multiple = TRUE
  ),
  
  shiny::uiOutput(outputId = "filters"),
  
  shinyWidgets::pickerInput(
    inputId = "marker_picker", 
    label = shiny::h3("Markers"), 
    choices = "Waiting for Data to Load",
    options = list(`none-selected-text` = "Select Marker Values to Display",
                   `selected-text-format` = "count > 1",
                   `actions-box` = TRUE,
                   `live-search` = TRUE), 
    multiple = TRUE
  ),
  
  shinyWidgets::prettyCheckbox(
    inputId = "markers_check_box",
    label = "Markers",
    value = TRUE,
    icon = icon("check-square-o"), 
    status = "primary",
    outline = TRUE
  ),
  
  shinyWidgets::prettyCheckbox(
    inputId = "marker_groups_check_box",
    label = "Marker Groups",
    value = TRUE,
    icon = icon("check-square-o"), 
    status = "primary",
    outline = TRUE
  ),
  
  shinyWidgets::prettyCheckbox(
    inputId = "heatmap_check_box",
    label = "Heatmap",
    value = TRUE,
    icon = icon("check-square-o"), 
    status = "primary",
    outline = TRUE
  )
)

# Body ----
body = shinydashboard::dashboardBody(
  shinyjs::useShinyjs(),
  tags$link(rel = "stylesheet", type = "text/css", href = "styles.css"),
  tags$script(src = "scripts.js"),
  leaflet::leafletOutput("map")
)

# Page ----
shinydashboard::dashboardPage(
  shinydashboard::dashboardHeader(title = "Sacramento Open Data"),
  sidebar,
  body
)